# Baseline Results Structure

**Last Updated:** 2025-11-17

---

## Current Structure

All baseline results are generated by `baseline_runner.py` and stored in `*_reproduced/` directories.

```
results/baselines/
├── adamson_reproduced/
│   └── baseline_results_reproduced.csv
├── replogle_k562_essential_reproduced/
│   └── baseline_results_reproduced.csv
├── replogle_rpe1_essential_reproduced/
│   └── baseline_results_reproduced.csv
├── all_datasets_summary.csv          # Aggregated results across all datasets
├── adamson_split_seed1.json          # Split configuration
├── replogle_k562_essential_split_seed1.json
└── replogle_rpe1_essential_split_seed1.json
```

---

## Result Files

### `baseline_results_reproduced.csv`

Contains results for all baselines run on a dataset:

| Column | Description |
|--------|-------------|
| `baseline` | Baseline type (e.g., `lpm_selftrained`, `lpm_k562PertEmb`) |
| `mean_pearson_r` | Mean Pearson correlation across test perturbations |
| `mean_l2` | Mean L2 (Euclidean) distance across test perturbations |
| `n_test_perturbations` | Number of test perturbations evaluated |

### `all_datasets_summary.csv`

Aggregated results across all datasets:

| Column | Description |
|--------|-------------|
| `dataset` | Dataset name (adamson, replogle_k562_essential, replogle_rpe1_essential) |
| `baseline` | Baseline type |
| `mean_pearson_r` | Mean Pearson correlation |
| `mean_l2` | Mean L2 distance |
| `n_test_perturbations` | Number of test perturbations |

---

## Generating Results

### Single Dataset

```bash
python -m goal_2_baselines.run_all \
    --adata_path ../paper/benchmark/data/gears_pert_data/adamson/perturb_processed.h5ad \
    --split_config results/adamson_split_seed1.json \
    --output_dir results/baselines/adamson_reproduced
```

### Multiple Datasets

```bash
python -m goal_2_baselines.run_all_datasets \
    --datasets adamson replogle_k562_essential replogle_rpe1_essential \
    --output_base results/baselines \
    --pca_dim 10 \
    --ridge_penalty 0.1 \
    --seed 1
```

---

## Analysis

### Performance Analysis

```bash
python -m goal_2_baselines.analyze_performance \
    --results_dir results/baselines \
    --output_dir results/analysis
```

Generates:
- `overall_statistics.csv` - Statistical summaries
- `baseline_rankings.csv` - Performance rankings
- `best_per_dataset.csv` - Best baseline per dataset
- `cross_dataset_comparison.csv` - Cross-dataset comparison

---

## Notes

- **All results** come from `baseline_runner.py` (our implementation)
- **Paper's implementation** (`paper_implementation.py`) is available for validation but results are not retained
- **Old result directories** (per-baseline subdirectories) have been removed
- **Only `*_reproduced/` directories** contain baseline results

---

**Last Updated:** 2025-11-17

